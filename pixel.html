<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Pixel Playground | 2025-07-13 Fixed Sidebar</title>

  <!-- 외부 스타일 -->
  <link rel="stylesheet" href="css/pixel.css">
  <style>
    /* 다운로드 버튼 완전 숨김 (접근성/JS 안전 대비) */
    #dlBar,
    #dlPNG,
    #dlSVG { display: none !important; }
    /* 시맨틱 헤딩은 유지하되 시각적으로만 숨김 (선택) */
    .sr-only {
      position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px;
      overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0;
    }
  </style>
</head>
<body>
  <!-- 홈 버튼 -->
  <a href="Maine.html" class="home-btn" aria-label="메인 화면">
    <svg
      width="18" height="18" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M3 9.5 12 3l9 6.5V21a1 1 0 0 1-1 1h-5v-6H9v6H4a1 1 0 0 1-1-1V9.5z" />
    </svg>
  </a>

  <!-- 픽셀 보드 -->
  <section id="boardWrap">
    <div id="zoomContainer">
      <canvas id="pixelCanvas" class="board"></canvas>
    </div>

    <!-- SVG 업로드 버튼 (아이콘 경로 = assets/icons/) -->
    <button id="svgBtn" class="btn zoom-btn" aria-label="SVG 업로드">OPEN</button>
  </section>

  <!-- 우측 사이드바 -->
  <aside id="sidebar">
    <!-- ▽▽▽ 다운로드 영역: 요소는 남기되 완전 숨김/비활성화 ▽▽▽ -->
    <h3 class="sr-only">이미지 다운로드 (MVP에서 비활성화)</h3>
    <div id="dlBar" class="bar" aria-hidden="true">
      <button class="btn" id="dlPNG" disabled aria-hidden="true" tabindex="-1">PNG</button>
      <button class="btn" id="dlSVG" disabled aria-hidden="true" tabindex="-1">SVG</button>
    </div>
    <!-- △△△ 다운로드 영역 끝 △△△ -->

    <!-- 픽셀 크기 -->
    <h3>픽셀 크기 조절 기능</h3>
    <div class="ctrl-row">
      <label>가로(X)
        <input id="sizeX" type="number" value="50" min="1" max="100">
      </label>
      <label>세로(Y)
        <input id="sizeY" type="number" value="50" min="1" max="100">
      </label>
    </div>

    <!-- 색상 피커 -->
    <h3>색상 피커</h3>
    <div id="pickerArea">
      <canvas id="wheelCanvas"></canvas>

      <div id="previewCol">
        <div class="prevRow">
          <div id="curCol" class="prevBox"></div>
          <div id="hexBox">
            <span>HEX</span>
            <input id="hexVal" type="text" maxlength="7">
          </div>
        </div>

        <div id="valueStack">
          <div class="valRow cols3">
            <label>H
              <input id="hVal" type="number" min="0" max="360">
            </label>
            <label>S
              <input id="sVal" type="number" min="0" max="100">
            </label>
            <label>B
              <input id="vVal" type="number" min="0" max="100">
            </label>
          </div>

          <div class="valRow cols3">
            <label>R
              <input id="rVal" type="number" min="0" max="255">
            </label>
            <label>G
              <input id="gVal" type="number" min="0" max="255">
            </label>
            <label>B
              <input id="blVal" type="number" min="0" max="255">
            </label>
          </div>

          <div class="valRow cols4">
            <label>C
              <input id="cVal" type="number" step="0.1" min="0" max="100">
            </label>
            <label>M
              <input id="mVal" type="number" step="0.1" min="0" max="100">
            </label>
            <label>Y
              <input id="yVal" type="number" step="0.1" min="0" max="100">
            </label>
            <label>K
              <input id="kVal" type="number" step="0.1" min="0" max="100">
            </label>
          </div>
        </div>

        <!-- 기본 색상 팔레트 -->
        <div id="basePalette" class="swatchGrid">
          <!-- 7 × 4 = 28 스와치 -->
          <div class="swatch" data-col="#FE0000" style="background:#FE0000"></div>
          <div class="swatch" data-col="#FF3300" style="background:#FF3300"></div>
          <div class="swatch" data-col="#FF7F00" style="background:#FF7F00"></div>
          <div class="swatch" data-col="#FFB200" style="background:#FFB200"></div>
          <div class="swatch" data-col="#FEFF01" style="background:#FEFF01"></div>
          <div class="swatch" data-col="#B2DB11" style="background:#B2DB11"></div>
          <div class="swatch" data-col="#80C31C" style="background:#80C31C"></div>

          <div class="swatch" data-col="#304294" style="background:#304294"></div>
          <div class="swatch" data-col="#225AA5" style="background:#225AA5"></div>
          <div class="swatch" data-col="#3D94EA" style="background:#3D94EA"></div>
          <div class="swatch" data-col="#40D3F4" style="background:#40D3F4"></div>
          <div class="swatch" data-col="#016646" style="background:#016646"></div>
          <div class="swatch" data-col="#008738" style="background:#008738"></div>
          <div class="swatch" data-col="#4BAB26" style="background:#4BAB26"></div>

          <div class="swatch" data-col="#0E146C" style="background:#0E146C"></div>
          <div class="swatch" data-col="#3E107C" style="background:#3E107C"></div>
          <div class="swatch" data-col="#67087C" style="background:#67087C"></div>
          <div class="swatch" data-col="#90007B" style="background:#90007B"></div>
          <div class="swatch" data-col="#980033" style="background:#980033"></div>
          <div class="swatch" data-col="#DB1964" style="background:#DB1964"></div>
          <div class="swatch" data-col="#FF7DB2" style="background:#FF7DB2"></div>

          <div class="swatch" data-col="#000000" style="background:#000000"></div>
          <div class="swatch" data-col="#565656" style="background:#565656"></div>
          <div class="swatch" data-col="#9B9B9B" style="background:#9B9B9B"></div>
          <div class="swatch" data-col="#FFFFFF" style="background:#FFFFFF;border:1px solid #999"></div>
          <div class="swatch" data-col="#6A3906" style="background:#6A3906"></div>
          <div class="swatch" data-col="#C9A063" style="background:#C9A063"></div>
          <div class="swatch" data-col="#FCD7A7" style="background:#FCD7A7"></div>
        </div>
      </div><!-- /#previewCol -->
    </div><!-- /#pickerArea -->

    <!-- 디자인 도구 -->
    <h3>디자인 도구 툴</h3>
    <div id="toolBar" class="bar">
      <button type="button" class="btn active" data-tool="brush" aria-label="브러시">
        <img class="ico" src="assets/icons/brush.svg" alt="">
      </button>
      <button type="button" class="btn" data-tool="bucket" aria-label="페인트">
        <img class="ico" src="assets/icons/paint.svg" alt="">
      </button>
      <button type="button" class="btn" data-tool="picker" aria-label="스포이드">
        <img class="ico" src="assets/icons/eyedropper.svg" alt="">
      </button>
      <button type="button" class="btn" data-tool="eraser" aria-label="지우개">
        <img class="ico" src="assets/icons/eraser.svg" alt="">
      </button>
      <button type="button" class="btn" data-tool="clear" aria-label="전체 지우기">
        <img class="ico" src="assets/icons/eraser-all.svg" alt="">
      </button>
    </div>

    <!-- 대칭 -->
    <h3>대칭 기능</h3>
    <div id="symBar" class="bar">
      <button type="button" class="btn active" data-sym="none" aria-label="없음">
        <img class="ico" src="assets/icons/symmetry-07.svg" alt="">
      </button>
      <button type="button" class="btn" data-sym="v2" aria-label="세로 2등분">
        <img class="ico" src="assets/icons/symmetry-08.svg" alt="">
      </button>
      <button type="button" class="btn" data-sym="h2" aria-label="가로 2등분">
        <img class="ico" src="assets/icons/symmetry-09.svg" alt="">
      </button>
      <button type="button" class="btn" data-sym="cross4" aria-label="십자 4등분">
        <img class="ico" src="assets/icons/symmetry-10.svg" alt="">
      </button>
      <button type="button" class="btn" data-sym="x4" aria-label="X 4등분">
        <img class="ico" src="assets/icons/symmetry-11.svg" alt="">
      </button>
      <button type="button" class="btn" data-sym="eight" aria-label="8등분">
        <img class="ico" src="assets/icons/symmetry-12.svg" alt="">
      </button>
    </div>

    <!-- 원본 + 업로드 (아이콘 경로 정리) -->
    <div id="origBox">
      <h3>원본 이미지</h3>
      <div id="uploadBox" class="upload-box">
        <input id="imgUp" type="file" accept="image/*" hidden>

        <!-- 교체 버튼 (초기에 숨겨 둠) -->
        <button id="imgReplace" class="replace-btn" title="이미지 교체">
          <!-- 경로를 다른 아이콘들과 동일한 상대경로로 수정 -->
          <img src="assets/icons/image-17.svg" alt="" class="ico">
        </button>

        <span class="place-txt">UPLOAD IMAGE</span>
        <img id="origImg" alt="원본 미리보기">
      </div>
    </div>
  </aside>

  <div id="bgBar" class="bg-fab">
    <!-- 배경 전환 버튼 -->
    <button class="btn active" data-bg="#FFFFFF" aria-label="White background"></button>
    <button class="btn" data-bg="#000000" aria-label="Black background"></button>
  </div>

  <!-- SVG 업로드 숨은 input -->
  <input type="file" id="svgUp" accept=".svg,image/svg+xml" style="display:none">

  <!-- 확대 / 축소 플로팅 버튼 -->
  <div id="zoomBar" class="zoom-fab">
    <button class="btn" data-zoom="in" aria-label="Zoom In">+</button>
    <button class="btn" data-zoom="out" aria-label="Zoom Out">−</button>
  </div>

  <!-- 고정 헤더 -->
  <header class="site-header">
    <h1 class="site-title"><a href="index.html">PixelPartner-Pro</a></h1>
  </header>

  <!-- 돋보기 캔버스 -->
  <canvas
    id="magnifier"
    width="120"
    height="120"
    style="position:fixed;display:none;pointer-events:none;border:1px solid #888;border-radius:50%;z-index:9999"
  ></canvas>

  <!-- 외부 스크립트 -->
  <script src="js/pixel.js" defer></script>
</body>
</html>
